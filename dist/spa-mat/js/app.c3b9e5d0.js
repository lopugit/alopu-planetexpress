(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(t,e,o){t.exports=o("2f39")},"0940":function(t,e,o){"use strict";var i=o("939d"),n=o.n(i);n.a},1:function(t,e){},"1e5d":function(t,e,o){},2:function(t,e){},"2ae2":function(t,e,o){"use strict";var i=o("c1fa"),n=o.n(i);n.a},"2b3b":function(t,e,o){},"2f39":function(t,e,o){"use strict";o.r(e);var i={};o.r(i),o.d(i,"getUsername",function(){return T}),o.d(i,"latestCached",function(){return x});var n={};o.r(n),o.d(n,"interactionStarted",function(){return E}),o.d(n,"addCachedState",function(){return $}),o.d(n,"isAuthenticated",function(){return O}),o.d(n,"entitySet",function(){return j}),o.d(n,"navSet",function(){return U}),o.d(n,"sandboxThingSet",function(){return F}),o.d(n,"entityInventorySet",function(){return M}),o.d(n,"newAuthLog",function(){return q}),o.d(n,"entityMessageUpdate",function(){return D}),o.d(n,"SetRealms",function(){return N}),o.d(n,"SetThingTypes",function(){return P}),o.d(n,"addPage",function(){return V}),o.d(n,"resetSandboxThing",function(){return R}),o.d(n,"showLoginOptions",function(){return z}),o.d(n,"passwordConfirmation",function(){return L}),o.d(n,"mainDrawer",function(){return B}),o.d(n,"entity",function(){return Y}),o.d(n,"pageHistory",function(){return H});var s={};o.r(s),o.d(s,"entity",function(){return X}),o.d(s,"userAgentNormalised",function(){return Z}),o.d(s,"username",function(){return Q}),o.d(s,"ego",function(){return tt}),o.d(s,"cover",function(){return et}),o.d(s,"loggedIn",function(){return ot});var r={};o.r(r),o.d(r,"setSchema",function(){return rt}),o.d(r,"feedback",function(){return at}),o.d(r,"removefeedback",function(){return ct}),o.d(r,"dialog",function(){return ut}),o.d(r,"removedialog",function(){return dt}),o.d(r,"registerable",function(){return lt}),o.d(r,"entity",function(){return gt}),o.d(r,"userAgent",function(){return pt}),o.d(r,"updateEntityUserAgent",function(){return ht}),o.d(r,"env",function(){return ft}),o.d(r,"clientId",function(){return mt});var a={};o.r(a),o.d(a,"switchUser",function(){return $t}),o.d(a,"checkUsernameAvailability",function(){return Ot}),o.d(a,"switchUserSuccess",function(){return jt}),o.d(a,"switchUserFailure",function(){return Ut}),o.d(a,"login",function(){return Ft}),o.d(a,"logout",function(){return Mt}),o.d(a,"logoutSuccess",function(){return qt}),o.d(a,"logoutFail",function(){return Dt}),o.d(a,"buildDefaultEntity",function(){return Nt}),o.d(a,"resetEntity",function(){return Pt}),o.d(a,"userAgentSync",function(){return Vt}),o.d(a,"syncDevice",function(){return Rt}),o.d(a,"manifestClientId",function(){return zt});o("ac6a"),o("4a91"),o("a114"),o("d14b"),o("1e5d"),o("7e6d");var c=o("2b0e"),u=o("e083");c["a"].use(u["b"],{config:{}});var d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"app",attrs:{id:"q-app"}},[o("router-view")],1)},l=[];d._withStripped=!0;o("28a5");var g=o("7037"),p=o.n(g),h=(o("ac4d"),o("8a81"),o("551c"),{data:function(){return{}},methods:{setThing:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.option,i=e.list,n=void 0===i?this.thingMutable.things:i,s=e.obj,r=void 0!==s&&s,a=e.key,c=void 0===a?"_id":a,u=e.keymatchtype,d=e.push,l=e.strings,g=e.targets;return new Promise(function(e,i){var s=t.thingIndex({option:o,list:n,obj:r,key:c,keymatchtype:u,strings:l});if(s>=0&&n)if(g)for(var a=0;a<g.length;a++)n[s][g[a]]=o[g[a]];else n.splice(s,1,o);else d&&n&&n.push(o);e()})},setThings:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.options,i=e.list,n=void 0===i?this.thingMutable.things:i,s=e.obj,r=void 0!==s&&s,a=e.key,c=void 0===a?"_id":a,u=e.keymatchtype,d=e.push;return new Promise(function(e,i){if(o&&n){var s=!0,a=!1,l=void 0;try{for(var g,p=o[Symbol.iterator]();!(s=(g=p.next()).done);s=!0){var h=g.value;t.setThing({option:h,list:n,obj:r,key:c,keymatchtype:u,push:d})}}catch(t){a=!0,l=t}finally{try{s||null==p.return||p.return()}finally{if(a)throw l}}}e()})},optIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments.length>4?arguments[4]:void 0;if(!o&&e&&e.indexOf(t)>=0)return!0;if(o&&e)for(var s=0;s<e.length;s++)if("object"==p()(i)){for(var r=0;r<i.length;r++)if("broad"==n){if(e[s]&&this.getsmart(e[s],i[r],void 0)==this.getsmart(t,i[r],void 0)&&void 0!==this.getsmart(e[s],i[r],void 0))return!0;if(e[s]&&"string"==typeof e[s]&&e[s]==this.getsmart(t,i[r],void 0)&&void 0!==this.getsmart(t,i[r],void 0))return!0}else if(e[s]&&this.getsmart(e[s],i[r],void 0)==this.getsmart(t,i[r],void 0)&&void 0!==this.getsmart(e[s],i[r],void 0)){if(r==i.length-1)return!0}else if(e[s]&&"string"==typeof e[s]&&e[s]==this.getsmart(t,i[r],void 0)&&void 0!==this.getsmart(t,i[r],void 0)&&r==i.length-1)return!0}else if(e[s]&&e[s][i]==t[i]&&void 0!==e[s][i])return!0;return!1},thingIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,o=t.list,i=t.obj,n=void 0!==i&&i,s=t.key,r=void 0===s?"_id":s,a=t.keymatchtype,c=(t.strings,t.retIndex);if(!n&&o&&o.indexOf(e)>=0)return!c||o.indexOf(e);if(n&&o)for(var u=0;u<o.length;u++)if("object"==p()(r)){for(var d=0;d<r.length;d++)if("broad"==a){if(o[u]&&this.getsmart(o[u],r[d],void 0)==this.getsmart(e,r[d],void 0)&&void 0!==this.getsmart(o[u],r[d],void 0))return!c||u;if(o[u]&&"string"==typeof o[u]&&o[u]==this.getsmart(e,r[d],void 0)&&void 0!==this.getsmart(e,r[d],void 0))return!c||u}else if(o[u]&&this.getsmart(o[u],r[d],void 0)==this.getsmart(e,r[d],void 0)&&void 0!==this.getsmart(o[u],r[d],void 0)){if(d==r.length-1)return!c||u}else if(o[u]&&"string"==typeof o[u]&&o[u]==this.getsmart(e,r[d],void 0)&&void 0!==this.getsmart(e,r[d],void 0)&&d==r.length-1)return!c||u}else{if(o[u]&&o[u][r]==e[r]&&void 0!==o[u][r])return!c||u;if(o[u]&&"string"==typeof o[u]&&o[u]==e[r]&&void 0!==e[r])return!c||u}return!!c&&-1},optsIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments.length>4?arguments[4]:void 0,s=!0,r=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;if(!o&&e&&e.indexOf(d)>=0);else{if(!o||!e)return!1;for(var l=0;l<e.length;l++)if(!this.optIn(d,e[l],o,i,n))return!1}}}catch(t){r=!0,a=t}finally{try{s||null==u.return||u.return()}finally{if(r)throw a}}return!0},thingsIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r,c=t.keymatchtype,u=!0,d=!1,l=void 0;try{for(var g,p=e[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var h=g.value;if(!s&&i&&i.indexOf(h)>=0);else{if(!s||!i)return!1;for(var f=0;f<i.length;f++)if(!this.optIn(h,i[f],s,a,c))return!1}}}catch(t){d=!0,l=t}finally{try{u||null==p.return||p.return()}finally{if(d)throw l}}return!0},anyOptsIn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments.length>4?arguments[4]:void 0,s=!0,r=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;if(!o&&e&&e.indexOf(d)>=0)return!0;if(o&&e)for(var l=0;l<e.length;l++)if(this.optIn(d,e[l],o,i,n))return!0}}catch(t){r=!0,a=t}finally{try{s||null==u.return||u.return()}finally{if(r)throw a}}return!1},anyThingsIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r,c=t.keymatchtype,u=!0,d=!1,l=void 0;try{for(var g,p=e[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var h=g.value;if(!s&&i&&i.indexOf(h)>=0)return!0;if(s&&i)for(var f=0;f<i.length;f++)if(this.optIn(h,i[f],s,a,c))return!0}}catch(t){d=!0,l=t}finally{try{u||null==p.return||p.return()}finally{if(d)throw l}}return!1},optIndex:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=arguments.length>4?arguments[4]:void 0;if(o&&e&&i){for(var s=0;s<e.length;s++)if(this.optIn(t,e,o,i,n))return s}else if(e)return e.indexOf(t);return-1},thingIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,o=t.list,i=t.obj,n=void 0!==i&&i,s=t.key,r=void 0===s?"_id":s,a=t.keymatchtype,c=t.strings;if(n&&o&&r){var u=this.thingIn({option:e,list:o,obj:n,key:r,keymatchtype:a,strings:c,retIndex:!0});return u}return o?o.indexOf(e):-1},pushOpt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id";"object"!=p()(e)||this.optIn(t,e,o,i)||e.push(t)},pushThing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r;"object"!=p()(i)||this.optIn(e,i,s,a)||i.push(e)},pushOpts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=!0,s=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var u=a.value;this.pushOpt(u,e,o,i)}}catch(t){s=!0,r=t}finally{try{n||null==c.return||c.return()}finally{if(s)throw r}}},pushThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r,c=!0,u=!1,d=void 0;try{for(var l,g=e[Symbol.iterator]();!(c=(l=g.next()).done);c=!0){var p=l.value;this.pushOpt(p,i,s,a)}}catch(t){u=!0,d=t}finally{try{c||null==g.return||g.return()}finally{if(u)throw d}}},popOpt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id";"object"==p()(e)&&this.optIn(t,e,o,i)&&e.splice(this.optIndex(t,e,o,i),1)},popThing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r;"object"==p()(i)&&this.optIn(e,i,s,a)&&i.splice(this.optIndex(e,i,s,a),1)},popOpts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",n=!0,s=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var u=a.value;this.popOpt(u,e,o,i)}}catch(t){s=!0,r=t}finally{try{n||null==c.return||c.return()}finally{if(s)throw r}}},popThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r,c=!0,u=!1,d=void 0;try{for(var l,g=e[Symbol.iterator]();!(c=(l=g.next()).done);c=!0){var p=l.value;this.popOpt(p,i,s,a)}}catch(t){u=!0,d=t}finally{try{c||null==g.return||g.return()}finally{if(u)throw d}}},toggleOpt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id";this.optIn(t,e,o,i)?this.popOpt(t,e,o,i):this.pushOpt(t,e,o,i)},toggleThing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.option,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=void 0!==n&&n,r=t.key,a=void 0===r?"_id":r;this.optIn(e,i,s,a)?this.popOpt(e,i,s,a):this.pushOpt(e,i,s,a)},toggleOpts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.optionsMutable,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;for(var n in t)this.optIn(n,e,o,i)?this.popOpt(n,e,o,i):this.pushOpt(n,e,o,i)},toggleThings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,o=t.list,i=void 0===o?this.optionsMutable:o,n=t.obj,s=t.key;for(var r in e)this.optIn(r,i,n,s)?this.popOpt(r,i,n,s):this.pushOpt(r,i,n,s)},ratchetOpt:function(t,e,o,i){},getsmart:function(t,e,o){"string"==typeof e&&(e=e.split("."));var i=function t(e,o,i){if(void 0===e||null===e)return i;if(0===o.length)return e;var n=e[o[0]],s=o.slice(1);return t(n,s,i)};return i(t,e,o)},safestring:function(t){return this.jsmart.stringify(t||"")},safeparse:function(t){return this.jsmart.parse(t||"")}}}),f={mixins:[h],name:"app",data:function(){return{siteTitle:"Planet Express"}},sockets:{connect:function(){},giveAuthenticate:function(t){console.log(t),t.entity&&t.auth?(t.entity.auth=!0,this.$store.commit("entitySet",t.entity)):(this.$store.commit("entitySet",{type:"temporary",identity:"anonymous",auth:!1,username:void 0}),t.err&&this.$store.commit("newAuthLog",{err:t.err,msg:"something went wrong authorizing the user"}))},giveRealms:function(t){t.id==this.uid&&this.$store.commit("SetRealms",t.realms)}},beforeCreated:function(){},created:function(){this.$store.dispatch("manifestClientId",this.$uuid.v4()),this.$store.dispatch("buildDefaultEntity"),this.$store.dispatch("userAgentSync",navigator.userAgent),this.initCursor(),this.$store.commit("env",this.$env),this.$store.dispatch("syncDevice","this")},methods:{initCursor:function(){var t=new n(function(){},0),e=new n(function(){},0),o=function(){var o=t.getTimeLeft();new n(function(){document.body.classList.add("cursor-pointer")},o),e=new n(function(){},o+200)},i=function(){var o=e.getTimeLeft();new n(function(){document.body.classList.remove("cursor-pointer")},o),t=new n(function(){},o+100),0};function n(t,e){var o,i,n,s=e;this.start=function(){n=!0,i=new Date,o=setTimeout(t,s)},this.pause=function(){n=!1,clearTimeout(o),s-=new Date-i},this.getTimeLeft=function(){return n&&(this.pause(),this.start()),s},this.getStateRunning=function(){return n},this.start()}document.body.onmousedown=o,document.body.onmouseup=i,console.log("%s was created",this.siteTitle),this.$socket.emit("getRealms",{id:this.uid,find:{},count:1/0})}},watch:{},components:{},computed:{navigator:{get:function(){return navigator}},entity:{get:function(){return this.$store.state.alopu.entity},set:function(t){this.$store.commit("entity",{entity:t})}},pageHistory:{get:function(){return this.$store.state.app.pageHistory},set:function(t){this.$store.commit("pageHistory",t)}}}},m=f,v=(o("cf25"),o("490c"),o("2877")),y=Object(v["a"])(m,d,l,!1,null,null,null);y.options.__file="App.vue";var b=y.exports,w=o("2f62"),k=o("0e44"),C={isAuthenticated:!1,authLogs:[],entityMessage:"welcome, <a href='/self'>"+(C&&C.entity?C.entity.username:"anonymous")+"</a>",realms:["all","public","free","philosophy"],pageHistory:[],thingTypes:["object","service","inventory","question","answer","moment"],types:["Array","String","Number","Boolean","Thing","Array of Arrays","Array of Booleans","Array of Numbers","Array of Things","Array of Strings","Thing of Arrays","Thing of Booleans","Thing of Numbers","Thing of Things","Thing of Strings"],thingNames:["fork","flashlight","book","food","vegan lesagne","sour strap","wallet","blanket","mattress"],priceUnits:["purchase","unit","use","click","second","minute","hour","day","cm","metre","km","mg","g","kg","tonne"],currencies:["AUD","USD","EUR","REN","YEN","RUP"],sideBarOptions:["closed"],ico:{sandboxThing:{title:"A lopu sandbox thing",description:"change as much as you want, the change's will still be here when you return",names:["a lopu ico sandbox thing","thing"]},sandboxThingSchema:{title:"A lopu sandbox thing",description:"change as much as you want, the change's will still be here when you return",names:["a lopu ico sandbox thing","thing"]}},test:{woo:Boolean,woo1:Array,woo2:[Array],woo3:{Array:Array},woo4:{hmm:Boolean,hmm1:Array,hmm2:[Object],hmm3:{Array:Array}}},cached:[[]],interactionStarted:!1,showLoginOptions:!1,mainDrawer:!1},A=C,S=o("3c2e")(),T=function(t){return S.getsmart(t,"entity.username",void 0)},x=function(t){if(t.cached.length){var e=t.cached[t.cached.length-1];return e&&e.constructor==Array?e:[]}return t.cached.push([]),t.cached[t.cached.length-1]},I=o("53bd"),_=o.n(I),E=function(t,e){t.interactionStarted=e},$=function(t,e){console.log("caching payload"),console.log(e),t.cached.length>=8&&(t.cached=t.cached.slice(t.cached.length-8,t.cached.length)),e&&e.constructor==Array&&t.cached.push(e)},O=function(t,e){t.isAuthenticated=e.isAuthenticated},j=function(t,e){t.entity=e},U=function(t,e){t.nav=e},F=function(t,e){t.ico.sandboxThing=e},M=function(t,e){t.entity.inventory=e},q=function(t,e){t.authLogs.push(e)},D=function(t,e){t.userMessage=e},N=function(t,e){t.realms=e},P=function(t,e){t.thingTypes=e},V=function(t,e){"string"===typeof e&&t.pageHistory.push(e)},R=function(t,e){if(e){var o=_.a.parse(_.a.stringify(t.ico.sandboxThingSchema));t.ico.sandboxThing=o}},z=function(t,e){"boolean"==typeof e&&(t.showLoginOptions=e)},L=function(t,e){t.passwordConfirmation=e},B=function(t,e){"boolean"==typeof e&&(t.mainDrawer=e)},Y=function(t,e){t.entity=e},H=function(t,e){t.pageHistory=e},G=o("e048"),W={namespaced:!1,state:A,getters:i,mutations:n,actions:G},J={schemas:{},feedback:[],dialog:[],entity:void 0,entityDefault:{alopu:{username:void 0,password:void 0}},userAgent:navigator.userAgent,env:window.env,clientId:void 0,registerable:"haventchecked",passwordConfirmation:""},K=o("3c2e")(),X=function(t){return t.entity},Z=function(t){return t.userAgent},Q=function(t,e){return function(o){var i="Bowie",n=K.getsmart(t,"entity.loggedIn",{});return n&&n[e.userAgentNormalised]&&(K.getsmart(t,"entity.alopu.username",!1)?i=K.getsmart(t,"entity.alopu.username",i):!K.getsmart(t,"entity.google.w3.ofa",!1)||"google"!=o&&o?!K.getsmart(t,"entity.facebook.name",!1)||"facebook"!=o&&o||(i=K.getsmart(t,"entity.facebook.name",i).split(" ")[0]):i=K.getsmart(t,"entity.google.w3.ofa",i)),i}},tt=function(t,e){return function(o){var i="Star Man",n=K.getsmart(t,"entity.loggedIn",{});return n&&n[e.userAgentNormalised]&&X.egos,i}},et=function(t,e){return function(o){var i="statics/astronaut.png",n=K.getsmart(t,"entity.loggedIn",{});return n&&n[e.userAgentNormalised]&&(K.getsmart(t,"entity.profilePicture",!1)||(!K.getsmart(t,"entity.google.w3.Paa",!1)||"google"!=o&&o?!K.getsmart(t,"entity.facebook.picture.data.url",!1)||"facebook"!=o&&o||(i=K.getsmart(t,"entity.facebook.picture.data.url",i)):i=K.getsmart(t,"entity.google.w3.Paa",i))),i}},ot=function(t,e){var o=K.getsmart(t.entity,"loggedIn",!1),i=o[e.userAgentNormalised];return i||!1},it=(o("f751"),o("2591")),nt=(o("e71f"),vt()),st=o("3c2e")(),rt=function(t,e){e&&e.id&&(t.schemas[e.id]=e)},at=function(t,e){t.feedback.push(e.feedback)},ct=function(t,e){"number"==typeof e&&t.feedback.splice(e,1)},ut=function(t,e){t.dialog.push(e.dialog)},dt=function(t,e){"number"==typeof e&&t.dialog.splice(e,1)},lt=function(t,e){"boolean"!=typeof e&&"haventchecked"!=e||(t.registerable=e)},gt=function(t,e){e.entity&&(e.merge?Object.assign(t.entity,e.entity):t.entity=e.entity)},pt=function(t,e){t.userAgent=e},ht=function(t,e){var o=st.gosmart(t,"entity.firestore.id",st.getsmart(t,"entity.ids.id-firestore",void 0));if(o){st.setsmart(t,"entity.loggedIn."+e,!0);var i=nt.collection("things"),n=i.doc(o);n.set(t.entity).then(function(){}).catch(function(t){console.error("something went wrong updating the loggedIn userAgent: ",t)})}},ft=function(t,e){t.env=e},mt=function(t,e){t.clientId=e};function vt(){var t={apiKey:"AIzaSyCEk1mYB5aXFjYZUzwhyTF-blYDrIDqTRk",authDomain:"lopu-f3969.firebaseapp.com",databaseURL:"https://lopu-f3969.firebaseio.com",projectId:"lopu-f3969",storageBucket:"lopu-f3969.appspot.com",messagingSenderId:"299513605828",appId:"1:299513605828:web:1f42487525d73e00"},e={timestampsInSnapshots:!0};it["a"].apps.length?it["a"].app():it["a"].initializeApp(t);var o=it["a"].firestore();return o.settings(e),o}var yt=o("3156"),bt=o.n(yt),wt=(o("7f7f"),o("3c2e")),kt=o.n(wt),Ct=o("bc3a"),At=o.n(Ct),St=o("2b80"),Tt=o.n(St),xt=u["a"],It=new Tt.a,_t=Lt(),Et=(_t.collection("things"),kt()()),$t=function(t,e){var o=_t.collection("things");if(e.clientId=t.state.clientId,"facebook"==e.provider&&e.success){var i=Et.getsmart(e,"token.authResponse.userID",void 0);e.entity={ids:{"userID-facebook":i},facebook:{id:i,tokens:[e.token]},registered:{facebook:!0}},n(e).then(function(e){if(e.success){var i=Et.getsmart(e,"entity.firestore.id",!1);i?s(e).then(function(e){var n=o.doc(i),s=Et.gosmart(e,"entity.loggedIn",{});s&&(s[t.getters.userAgentNormalised]=!0),e.entity.facebook&&e.entity.facebook.tokens&&e.entity.facebook.tokens.push(e.token);var r=new Promise(function(t,o){FB.api("/me?locale=en_US&fields=name,email,picture",function(o){o.email&&(e.entity.ids["email-facebook"]=o.email),o&&(Object.assign(e.entity.facebook,o),Et.setsmart(e,"entity.facebook.picture",o.picture)),t(!0)})});r.then(function(){n.set(_.a.parse(_.a.stringify(e.entity)),{merge:!0}).then(function(){e.feedback={message:"Welcome ".concat(e.entity.facebook.name,". You have successfully ").concat(e.newEntity?"signed up":"logged in"," with your Facebook acccount"),color:"positive",timeout:4e3,position:"top-right"},t.dispatch("switchUserSuccess",e)}).catch(function(o){console.error("there was an error processing a login attempt via Facebook because of firebase",o),e.feedback={message:"There was an error logging in with your Facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)})}).catch(function(o){console.error("something went wrong getting more Facebook data to link to the entity: ",o),e.feedback={message:"There was an error logging in with your Facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)})}).catch(function(o){console.error("Something went wrong authenticating the user with firebase: ",o),e.feedback={message:"There was an error logging in with your Facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}):(console.error("there was an error processing a login attempt via Facebook because there's no firestore id assosciated with the entity, context @param args: ",e),e.feedback={message:"There was an error logging in with your Facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e))}else console.error("there was an error processing a login attempt via Facebook during token authentication server side, context @param args: ",e),e.feedback={message:"There was an error logging in with your Facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}).catch(function(o){console.error("Something went wrong syncing the user with the database: ",o),e.feedback={message:"There was an error logging in with your Facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)})}else if("google"==e.provider){i=Et.getsmart(e,"token.El",void 0);e.token.w3=Object.assign({},e.token.w3),e.entity={ids:{"El-google":i,"email-google":e.token.w3.U3},google:{id:i,tokens:[e.token]},registered:{google:!0}},n(e).then(function(e){if(e.success){var i=Et.getsmart(e,"entity.firestore.id",!1);i?s(e).then(function(e){var n=o.doc(i),s=Et.gosmart(e,"entity.loggedIn",{});s&&(s[t.getters.userAgentNormalised]=!0),e.entity.google&&e.entity.google.tokens&&e.entity.google.tokens.push(e.token),Object.assign(e.entity.google,e.token),n.set(_.a.parse(_.a.stringify(e.entity)),{merge:!0}).then(function(){e.feedback={message:"Welcome ".concat(e.entity.google.w3.ofa,". You have successfully ").concat(e.newEntity?"signed up":"logged in"," with your Google acccount"),color:"positive",timeout:4e3,position:"top-right"},t.dispatch("switchUserSuccess",e)}).catch(function(o){console.error("there was an error processing a login attempt via Google because of firebase",o),e.feedback={message:"There was an error logging in with your Google account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)})}).catch(function(o){console.error("Something went wrong authenticating the user with firebase: ",o),e.feedback={message:"There was an error logging in with your Google account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}):(console.error("there was an error processing a login attempt via Google because there's no firestore id assosciated with the entity, context @param args: ",e),e.feedback={message:"There was an error logging in with your Google account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e))}else console.error("there was an error processing a login attempt via facebook during facebook token authentication server side, context @param args: ",e),e.feedback={message:"There was an error logging in with your facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}).catch(function(o){console.error("Something went wrong syncing the user with the database: ",o),e.feedback={message:"There was an error logging in with your facebook account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)})}else"alopu"!=e.provider&&e.provider||(e.entity=bt()({},t.state.entity,{ids:{"username-alopu":Et.getsmart(e,"entity.alopu.username",Et.getsmart(t,"state.entity.alopu.username",void 0))},registered:{alopu:!0}}),n(e).then(function(e){if(e.success){var i=Et.getsmart(e,"entity.firestore.id",!1);i?s(e).then(function(e){var n=o.doc(i),s=Et.gosmart(e,"entity.loggedIn",{});s&&(s[t.getters.userAgentNormalised]=!0),e.entity.alopu&&e.token&&e.entity.alopu.tokens&&e.entity.alopu.tokens.push(e.token),n.set(_.a.parse(_.a.stringify(e.entity)),{merge:!0}).then(function(){e.feedback={message:"Welcome ".concat(e.entity.alopu.username,". You have successfully ").concat(e.newEntity?"signed up with a":"logged in with your"," Planet Express acccount"),color:"positive",timeout:4e3,position:"top-right"},t.dispatch("switchUserSuccess",e)}).catch(function(o){console.error("there was an error processing a login attempt via Planet Express because of firebase",o),e.feedback={message:"There was an error logging in with your Planet Express account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)})}).catch(function(o){console.error("Something went wrong authenticating the user with firebase: ",o),e.feedback={message:"There was an error logging in with your Planet Express account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}):(console.error("there was an error processing a login attempt via Planet Express because there's no firestore id assosciated with the entity, context @param args: ",e),e.feedback={message:"There was an error logging in with your Planet Express account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e))}else console.error("there was an error processing a login attempt via facebook during Planet Express token authentication server side, context @param args: ",e),e.feedback={message:"There was an error logging in with your Planet Express account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}).catch(function(o){console.error("Something went wrong syncing the user with the database: ",o),e.feedback={message:"There was an error logging in with your Planet Express account",color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",e)}));function n(e){return new Promise(function(o,i){if(e.entity||e.provider||e.token||e.clientId){var n={token:e.token,entity:e.entity,provider:e.provider,clientId:e.clientId};At.a.post(Et.getsmart(t,"state.env.api","https://api.alopu.com")+"/auth",n,Bt).then(function(t){t.data.success&&t.data.entity?o(t.data):(console.error("there was an error authenticating the user server side: ",Et.getsmart(t,"data.error",void 0)),i({success:!1,error:["there was an error authentication the user server side: ",Et.getsmart(t,"data.error","there was an error authentication the user server side")]}))}).catch(function(t){console.error("there was an error authenticating the native user:",t),i({success:!1,error:["there was an error authenticating the native user",t]})})}else e.token||e.provider?e.provider||Et.getsmart(e,"token.provider",!1)||!e.token?i({success:!1,error:"You didn't provide enough arguments to sync a user"}):i({success:!1,error:"We're sorry but right now we need to know the source of a token explicitely to process authentication, it'd be great if they included some kind of auth source in the token"}):i({success:!1,error:"You didn't provide an entity to be authenticated or a provider token or a source, what are we meant to do....?"})})}function s(t){return new Promise(function(e,o){it["a"].auth().signInWithCustomToken(t.entity.firebase.customToken).then(function(){e(t)}).catch(function(t){console.error("there was an error authenticating the user with firebase: ",t),o({success:!1,error:["there was an error authenticating the user with firebase",t]})})})}},Ot=function(t,e){At()({method:"post",header:Bt.headers,data:{username:e},url:Et.getsmart(t,"state.env.api","https://api.alopu.com")+"/usernamecheck"}).then(function(e){e.data.success?e.data.taken?t.commit("registerable",!1):e.data.taken||t.commit("registerable",!0):console.error("something went wrong checking if the username is registerable via the api: ",e.data.error)})},jt=function(t,e){e.success&&e.entity&&(t.commit("entity",e),e.type="login",t.commit("feedback",e))},Ut=function(t,e){t.dispatch("resetEntity"),t.commit("feedback",e)},Ft=function(t,e){var o=Object.assign({},e);if("alopu"==o["provider"]){var i=""==Et.getsmart(t,"state.entity.alopu.password",""),n=Et.getsmart(t,"state.entity.alopu.password",!1)==Et.getsmart(t,"state.passwordConfirmation",0)&&!i||!Et.getsmart(t,"state.registerable",!1);if(Et.getsmart(t,"state.entity.alopu.username",!1)&&n){t.commit("passwordConfirmation",""),o["success"]=!0;var s="Logging in";Et.getsmart(t,"state.registerable",!1)&&(s="Signing up"),xt.create({message:s,color:"positive",timeout:4e3}),t.dispatch("switchUser",o)}else n||i?Et.getsmart(t,"state.showLoginOptions",!1)&&xt.create({message:"Your credentials weren't valid, please try again",color:"warning",timeout:4e3}):xt.create({message:"Your passwords didn't match",color:"warning",timeout:4e3});t.commit("showLoginOptions",!0)}o["success"]?t.dispatch("switchUser",o):0==o["success"]&&(console.error("An error occured when processing login from ".concat(o["provider"])),console.error("Here's the res: ",o["token"]),o.feedback={message:"There was an error logging in with your ".concat(o["provider"]," account"),color:"negative",timeout:4e3,position:"top-right"},t.dispatch("switchUserFailure",o))},Mt=function(t,e){var o=setTimeout(function(){},5e3),i=_.a.parse(_.a.stringify(Et.getsmart(t,"state.entity",void 0)));t.dispatch("resetEntity");var n,s=_t.collection("things");if(i&&(n=Et.getsmart(i,"firestore.id",Et.getsmart(i,"ids.id-firestore",void 0))),n){var r=s.doc(n),a=i.loggedIn;a&&(a[t.getters.userAgentNormalised]=!1),Et.popThing({option:{clientId:t.state.clientId},list:i.sessions,keys:["clientId"],keymatchtype:"broad"}),i=_.a.parse(_.a.stringify(i)),r.set(i,{merge:!0}).then(function(){clearTimeout(o),t.dispatch("logoutSuccess")}).catch(function(e){clearTimeout(o),t.dispatch("logoutFail"),console.error("there was an error committing logout to firestore: ",e)})}else clearTimeout(o),t.dispatch("logoutFail")},qt=function(t,e){if(t.dispatch("resetEntity"),t.commit("registerable","haventchecked"),!e)e={feedback:{message:"Successfully logged out",color:"positive",timeout:4e3,position:"top-right"}};t.commit("feedback",e)},Dt=function(t,e){if(t.dispatch("resetEntity"),t.commit("registerable","haventchecked"),!e)e={feedback:{message:"Something went wrong logging out, we wiped your data locally just to be safe",color:"info",timeout:4e3,position:"top-right"}};t.commit("feedback",e)},Nt=function(t,e){var o=Et.getsmart(t.state,"entity.loggedIn",!1);(!o||o&&!o[t.getters.userAgentNormalised])&&t.dispatch("resetEntity")},Pt=function(t,e){var o=_.a.parse(_.a.stringify(t.state.entityDefault));t.commit("entity",{entity:o})},Vt=function(t,e){t.commit("userAgent",e)},Rt=function(t,e){var o=Et.gosmart(t,"state.entity.inventory.devices",[]),i=t.getters.userAgentNormalised;if(o)var n=Et.getThing({option:{userAgent:i},list:o,keys:["userAgent"],keymatchtype:"broad"});if("this"==e&&n){It.setUA(i);var s=It.getDevice;Object.assign(n,s)}},zt=function(t,e){t.state.clientId||t.commit("clientId",e)};function Lt(){var t={apiKey:"AIzaSyCEk1mYB5aXFjYZUzwhyTF-blYDrIDqTRk",authDomain:"lopu-f3969.firebaseapp.com",databaseURL:"https://lopu-f3969.firebaseio.com",projectId:"lopu-f3969",storageBucket:"lopu-f3969.appspot.com",messagingSenderId:"299513605828",appId:"1:299513605828:web:1f42487525d73e00"},e={timestampsInSnapshots:!0};it["a"].apps.length||it["a"].initializeApp(t);var o=it["a"].firestore();return o.settings(e),o.SetOptions={merge:!0},o}var Bt={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}},Yt={namespaced:!1,state:J,getters:s,mutations:r,actions:a},Ht=o("0f32"),Gt=o.n(Ht),Wt=o("3c2e")({}),Jt=o("3c2e")({vue:{store:!0}}).methods;c["a"].use(w["a"]),window.SS=Jt,window.stateSmarts=Jt,window.resetVuex=window.clearCache=window.clearStorage=function(){try{localStorage.removeItem("vuex"),console.log("done");var t=localStorage.getItem("vuexSource"),e=Wt.parse(t);Jt.setsmart(window,"$store.state.graph.thing",e.thing),localStorage.setItem("vuex",t)}catch(t){Wt.setsmart(window,"errors",[]),window.errors.push(t)}};var Kt=new w["a"].Store({modules:{app:W,alopu:Yt},plugins:[Object(k["a"])({paths:["app","alopu"],merge:function(t,e){return Wt.schema(e,t)},setState:Gt()(function(t,e,o){var i=Wt.stringify(e);o.setItem(t,i)},500),getState:function(t,e){var o={};try{var i=e.getItem(t);if(null===i)return{};o=Wt.parse(i)}catch(i){console.error("error parsing persisted state: ",i),o=JSON.parse(e.getItem(t)||"{}")}return o}})]}),Xt=Kt,Zt=o("8c4f"),Qt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return!t.entity||t.entity&&!t.entity.auth?o("div",{staticClass:"register"},[o("div",{staticClass:"register-sizer"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.username,expression:"fields.username"}],attrs:{placeholder:"username"},domProps:{value:t.fields.username},on:{input:function(e){e.target.composing||t.$set(t.fields,"username",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.password,expression:"fields.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.fields.password},on:{input:function(e){e.target.composing||t.$set(t.fields,"password",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.passwordConfirm,expression:"fields.passwordConfirm"}],attrs:{type:"password",placeholder:"confirm password"},domProps:{value:t.fields.passwordConfirm},on:{input:function(e){e.target.composing||t.$set(t.fields,"passwordConfirm",e.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:t.register}},[t._v("register")]),t.errMsg?o("div",{staticClass:"errMsg"},[t._v(t._s(t.errMsg))]):t._e(),t.feedbackMsg&&t.entity.username?o("div",{staticClass:"feedbackMsg"},[t._v(t._s(t.feedbackMsg))]):t._e()])]):t.entity.username?o("div",{staticClass:"register"},[o("div",{staticClass:"msg thanks"},[t._v(t._s(t.feedbackMsg))])]):t._e()},te=[];Qt._withStripped=!0;var ee={name:"register-comp",data:function(){return{entity:this.$store.state.entity,pageHistory:this.$store.state.pageHistory,fields:{username:null,password:null,passwordConfirm:null},errMsg:null,feedbackMsg:null,uid:this._uid}},sockets:{connect:function(){},giveRegister:function(t){console.log(t),t.success?(this.feedbackMsg=t.msg||"succesfully registered",this.clearFields()):(this.errMsg=t.msg||"there was an error",console.log(t.err))}},created:function(){},methods:{register:function(){if(this.fields.password&&this.fields.password==this.fields.passwordConfirm){var t={username:this.fields.username,password:this.fields.password};console.log("sent register emit"),this.$socket.emit("register",t),this.errMsg=null}else this.errMsg="the passwords do not match"},clearFields:function(){for(var t in this.fields)this.fields.hasOwnProperty(t)&&(this.fields[t]=null)}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity},"$store.state.pageHistory":function(){this.pageHistory=this.$store.state.pageHistory}},props:{}},oe=ee,ie=(o("0940"),Object(v["a"])(oe,Qt,te,!1,null,"5f725bee",null));ie.options.__file="register.vue";ie.exports;var ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"self"},[o("div",{staticClass:"entity-container"}),o("div",{staticClass:"entity-inventories"},[o("thing",{attrs:{thing:t.entity.inventory,parentOptions:["options","inventory","inventory mode","addable","put-options-last"]}})],1)])},se=[];ne._withStripped=!0;var re={data:function(){return{uid:this._uid,entity:this.$store.state.entity}},sockets:{connect:function(){console.log("socket connect vue side")}},created:function(){},methods:{},props:{},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity,this.entity.inventory=this.$store.state.entity.inventory}},components:{},route:{canActivate:function(){return!0}}},ae=re,ce=(o("5d06"),Object(v["a"])(ae,ne,se,!1,null,"48d88022",null));ce.options.__file="self.vue";ce.exports,o("69a2"),o("c220"),o("b2e8");var ue=[{path:"/(|home)",component:function(){return o.e("5858b90b").then(o.bind(null,"7b3d"))},children:[{name:"planetExpress",path:"",component:function(){return Promise.resolve().then(o.bind(null,"c220"))}},{path:"/logout",component:function(){return Promise.resolve().then(o.bind(null,"69a2"))}}]},{path:"*",component:function(){return o.e("4b4818b8").then(o.bind(null,"ee5d"))}}];c["a"].use(Zt["a"]);var de=new Zt["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:ue}),le=de,ge=function(){var t="function"===typeof Xt?Xt():Xt,e="function"===typeof le?le({store:t}):le;t.$router=e;var o={el:"#q-app",router:e,store:t,render:function(t){return t(b)}};return{app:o,store:t,router:e}},pe=o("a925"),he={failed:"Action failed",success:"Action was successful"},fe={en:he},me=function(t){var e=t.app,o=t.Vue;o.use(pe["a"]),e.i18n=new pe["a"]({locale:"en",fallbackLocale:"en",messages:fe})},ve=function(t){var e=t.Vue;e.prototype.$axios=At.a},ye=o("53bd"),be=function(t){t.app,t.router;var e=t.Vue;e.mixin({data:function(){return{jsmart:ye}}})};window.mapboxgl=o("e192");var we=function(t){t.app,t.router,t.Vue},ke=o("7be2"),Ce=o.n(ke),Ae=function(t){t.app,t.router;var e=t.Vue;e.component("mapbox",Ce.a)},Se=(o("d06d"),o("0874")),Te=function(t){t.app,t.router;var e=t.Vue;e.component("icon",Se["a"])},xe=o("0e37"),Ie=o.n(xe),_e=function(t){t.app,t.router;var e=t.Vue;e.component("VueImgInputer",Ie.a)},Ee=o("b76a"),$e=o.n(Ee),Oe=function(t){t.app,t.router;var e=t.Vue;e.component("draggable",$e.a)},je=o("8055"),Ue=o.n(je),Fe=o("0a12"),Me=o.n(Fe),qe=o("3b28"),De=Ue()("http://localhost:9999",{parser:qe}),Ne=function(t){t.app,t.router;var e=t.Vue;e.use(Me.a,De)},Pe=o("4a7a"),Ve=o.n(Pe),Re=function(t){t.app,t.router;var e=t.Vue;e.component("v-select",Ve.a)},ze=o("28dd"),Le=function(t){t.app,t.router;var e=t.Vue;e.use(ze["a"])},Be=o("4884"),Ye=o.n(Be),He=function(t){t.app,t.router;var e=t.Vue;e.component("medium-editor",Ye.a)},Ge=o("f029"),We=function(t){t.app,t.router;var e=t.Vue;e.use(Ge["a"])},Je=function(t){t.app,t.router;var e=t.Vue,o=new e;e.mixin({data:function(){return{eventHub:o}}})};o("4e28"),o("3902");var Ke=function(t){t.app,t.router,t.Vue},Xe=o("98c9"),Ze=function(t){t.app,t.router;var e=t.Vue;e.use(Xe["a"])},Qe=o("a3ad"),to=o.n(Qe);window.fbAsyncInit=function(){FB.init({appId:"112687382924264",cookie:!0,xfbml:!0,version:"v2.8"})},function(t,e,o){var i,n=t.getElementsByTagName(e)[0];t.getElementById(o)||(i=t.createElement(e),i.id=o,i.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk");var eo=function(t){t.app,t.router;var e=t.Vue;e.use(to.a)},oo=o("4f76"),io=o.n(oo),no=function(t){t.app,t.router;var e=t.Vue;e.use(io.a)},so={apiKey:"AIzaSyCEk1mYB5aXFjYZUzwhyTF-blYDrIDqTRk",authDomain:"lopu-f3969.firebaseapp.com",databaseURL:"https://lopu-f3969.firebaseio.com",projectId:"lopu-f3969",storageBucket:"lopu-f3969.appspot.com",messagingSenderId:"299513605828",appId:"1:299513605828:web:1f42487525d73e00"};it["a"].apps.length||it["a"].initializeApp(so);var ro=function(t){t.app,t.router;var e=t.Vue;it["a"].apps.length?it["a"].app():it["a"].initializeApp(so),it["a"].auth().useDeviceLanguage(),e.$fb=it["a"]},ao=function(t){t.app,t.router;var e=t.Vue;it["a"].apps.length?it["a"].app():it["a"].initializeApp(config);var o=i();function i(){var t={apiKey:"AIzaSyCEk1mYB5aXFjYZUzwhyTF-blYDrIDqTRk",authDomain:"lopu-f3969.firebaseapp.com",databaseURL:"https://lopu-f3969.firebaseio.com",projectId:"lopu-f3969",storageBucket:"lopu-f3969.appspot.com",messagingSenderId:"299513605828",appId:"1:299513605828:web:1f42487525d73e00"},e={timestampsInSnapshots:!0};it["a"].apps.length||it["a"].initializeApp(t);var o=it["a"].firestore();return o.settings(e),o.SetOptions={merge:!0},o}e.$fs=o};window.env=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",api:"http://localhost:9999",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"});var co=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",api:"http://localhost:9999",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}),uo=function(t){t.app,t.router;var e=t.Vue;co.install=function(){Object.defineProperty(e.prototype,"$env",{get:function(){return co}})},e.use(co)},lo=function(t){t.app,t.router;var e=t.Vue;e.prototype.$s=kt()()},go=o("2b80"),po=new go;window.$uap=po;var ho=function(t){t.app,t.router;var e=t.Vue;e.prototype.$uap=po},fo=ge(),mo=fo.app,vo=fo.store,yo=fo.router;[me,ve,be,we,Ae,Te,_e,Oe,Ne,Re,Le,He,We,Je,Ke,Ze,eo,no,ro,ao,uo,lo,ho].forEach(function(t){t({app:mo,router:yo,store:vo,Vue:c["a"],ssrContext:null})}),new c["a"](mo)},3:function(t,e){},3902:function(t,e,o){},"3df4":function(t,e,o){},"490c":function(t,e,o){"use strict";var i=o("882e"),n=o.n(i);n.a},"4e28":function(t,e,o){},"5d06":function(t,e,o){"use strict";var i=o("6c3d"),n=o.n(i);n.a},"69a2":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"logout"},[o("div",{staticClass:"logout-sizer"},[o("div",{staticClass:"feedbackMsg"},[t._v(t._s(t.$s.getsmart(t.$store,"state.alopu.entity.registered",!1)?"Logging out":"You aren't logged in :O"))])])])},n=[];i._withStripped=!0;var s={name:"logout-comp",data:function(){return{entity:this.$store.state.entity,errMsg:"thanks for logging out",feedbackMsg:"thanks for logging out",uid:this._uid}},sockets:{connect:function(){}},created:function(){console.log(this.$s),this.$store.state.alopu.entity.registered&&this.$store.dispatch("logout"),this.$router.push("/"),this.logout()},methods:{logout:function(){var t={};this.$socket.emit("logout",t)}},watch:{"$store.state.entity":function(){this.entity=this.$store.state.entity}},props:{}},r=s,a=(o("ff7c"),o("2877")),c=Object(a["a"])(r,i,n,!1,null,"2a755a0a",null);c.options.__file="logout.vue";e["default"]=c.exports},"6c3d":function(t,e,o){},"7c72":function(t,e,o){"use strict";var i=o("e718"),n=o.n(i);n.a},"7e6d":function(t,e,o){},"882e":function(t,e,o){},"939d":function(t,e,o){},b2e8:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-collapsible",{attrs:{label:"Current Location",avatar:"statics/where.png"}},[o("q-list",[o("q-item",[o("q-item-side",{attrs:{avatar:"statics/devices.png"}}),o("q-item-main",{attrs:{label:"Available Devices",sublabel:"Link a Device"}})],1),t._l(t.$s.gosmart(t.$store,"state.alopu.entity.inventory.devices",[]),function(e){return[o("q-item-separator"),o("q-item",[o("q-item-side",{attrs:{avatar:"statics/"+t.$s.getsmart(e,"type","question-yellow")+".png"}}),o("q-item-main",{attrs:{label:t.$s.getsmart(e,"title",void 0),sublabel:t.$s.getsmart(e,"textAddress","No address known")}}),o("q-item-side",{attrs:{avatar:"statics/location-"+(t.$s.getsmart(e,"livelocation",!1)?"yes":"no")+".png"}})],1)]}),o("q-item-separator"),o("q-item",[o("q-btn",{staticClass:"full-width",attrs:{label:"add a device"}})],1)],2)],1)},n=[];i._withStripped=!0;var s={name:"current-location-nav-comp",data:function(){return{uid:this._uid}},sockets:{connect:function(){}},created:function(){},methods:{},props:{siteTitle:{}},components:{},watch:{},route:{canActivate:function(){return!0}}},r=s,a=(o("d7bf"),o("2877")),c=Object(a["a"])(r,i,n,!1,null,"5c325262",null);c.options.__file="current-location-nav.vue";e["a"]=c.exports},c1fa:function(t,e,o){},c220:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",[o("div",{staticClass:"planetExpress fit"},[o("div",{staticClass:"splash-container"},[o("div",{staticClass:"splash-positioner"},[o("div",{staticClass:"splash"},[o("div",{staticClass:"particles-container"},[o("div",{staticClass:"particles-positioner"},[o("div",{staticClass:"particles"},[o("vue-particles",{staticClass:"vue-particles",attrs:{moveSpeed:2.5,shapeType:"star",color:"#FFF",opacity:.7,particlesNumber:35,particleSize:4,lineOpacity:.3,lineLinked:!1,hoverEffect:!0,hoverMode:"grab"}})],1)])]),o("div",{staticClass:"particles-container"},[o("div",{staticClass:"particles-positioner"},[o("div",{staticClass:"particles"},[o("vue-particles",{staticClass:"vue-particles",attrs:{moveSpeed:2,shapeType:"image",image:{src:"statics/pixel-ship.png"},particlesNumber:3,particleSize:30}})],1)])]),o("div",{staticClass:"search-container"},[o("div",{staticClass:"search-positioner"},[o("div",{staticClass:"search"},[o("div",{staticClass:"addresses-container"},[o("div",{staticClass:"addresses-positioner"},[o("div",{staticClass:"addresses"},[t._l(t.addresses,function(e,i){return e?o("div",{staticClass:"address-container"},[0==i||t.interactionStarted?o("div",{staticClass:"address-positioner"},[o("div",{staticClass:"address"},[o("q-chip",{staticClass:"z-top q-chip-delete q-chip-address-delete",attrs:{floating:!0,color:"negative",small:""},on:{click:function(o){t.removeAddress(e,i)}}},[o("q-icon",{attrs:{name:"close",size:".9rem"}})],1),o("q-search",{staticClass:"bg-primary bg-white q-if-inverted",attrs:{placeholder:0==i?"What's your first address?":"Where else?  We'll reorganize for efficiency","float-label":0==i?"First Address?":"Next?"},model:{value:e.address,callback:function(o){t.$set(e,"address",o)},expression:"address.address"}},[o("q-autocomplete",{on:{search:t.searchAddress,selected:function(e){return t.selectAddress(e,i,"addresses")}}})],1),o("div",{staticClass:"all-goods-container"},[o("div",{staticClass:"all-goods-positioner"},[o("div",{staticClass:"all-goods"},t._l(["pickup","dropoff"],function(i){return o("div",{staticClass:"goods-container"},[o("div",{staticClass:"goods-positioner"},[t.gosmart(e,"goods."+i,[])?o("draggable",{staticClass:"goods",attrs:{options:{group:{name:"goods",pull:"clone"}}},on:{end:t.cacheCurrentAddresses},model:{value:e.goods[i],callback:function(o){t.$set(e.goods,i,o)},expression:"address.goods[actionType]"}},[t._l(t.gosmart(e,"goods."+i,[]),function(n){return o("div",{staticClass:"good"},[o("img",{attrs:{src:"statics/box.png"}}),o("q-chip",{staticClass:"z-top q-chip-delete q-chip-good-delete",attrs:{floating:!0,color:"negative",small:""},on:{click:function(o){t.removeGood(n,e,i)}}},[o("q-icon",{attrs:{name:"close",size:".9rem"}})],1),o("div",{staticClass:"good-name-container"},[o("div",{staticClass:"good-name-positioner"},[o("div",{staticClass:"good-name"},[t._v(t._s(n.name))])])])],1)}),t.gosmart(e,"goods."+i,[]).length<1?o("div",{staticClass:"good placeholder",attrs:{slot:"footer"},slot:"footer"},[o("img",{style:{opacity:.5},attrs:{src:"statics/box.png"}})]):t._e(),o("div",{staticClass:"add-good",attrs:{slot:"footer"},on:{click:function(o){t.addGood(!1,e,i)}},slot:"footer"},[o("q-btn",{staticClass:"shadow-3 text-primary",attrs:{size:"md",color:"white",label:"add "+i+" box"}})],1)],2):t._e()],1)])}))])])],1)]):t._e()]):t._e()}),o("div",{staticClass:"additional-actions-container"},[o("div",{staticClass:"additional-actions-positioner"},[o("div",{staticClass:"additional-actions"},[o("div",{staticClass:"addition-action-container"},[o("div",{staticClass:"additional-action-positioner"},[o("div",{staticClass:"addition-action"},[o("q-btn",{staticClass:"add-address-btn",attrs:{color:"secondary",size:"sm",push:""},on:{click:function(e){t.addAddress({addressType:"addresses",actionSource:"user"})}}},[t._v("Add another stop")])],1)])]),o("div",{staticClass:"addition-action-container"},[o("div",{staticClass:"additional-action-positioner"},[o("div",{staticClass:"addition-action q-pt-md"},[o("q-btn",{staticClass:"full-width",attrs:{color:"secondary","text-color":"white",size:"md",push:""}},[t._v("Lets go!                         ")])],1)])])])])])],2)])])])])])])])])])])},n=[];i._withStripped=!0;o("551c"),o("7f7f");var s=o("3c2e"),r=o.n(s),a={name:"planetExpress-comp",mixins:[r()({vue:{reactiveSetter:!0,vm:"this"}})],data:function(){return{uid:this.$uuid.v4(),currentMap:{names:["courier map"],properties:[{title:"options",type:"Array of Strings","Array of Strings":["show map","no options","hide description"]}]},addresses:this.$store.getters.latestCached,mapboxglAccessToken:"pk.eyJ1IjoibG9wdSIsImEiOiJjamFydTVhc3QxNjRtMzNwaHEzNmJ1bW0zIn0.Wm7f-1eyd7K5AT3WN7fRDw",funCounter:1}},sockets:{connect:function(){},giveUniqueName:function(t){}},created:function(){var t=this;0==this.addresses.length&&this.addAddress({addressType:"addresses"}),navigator.geolocation&&!this.pickupAddress&&navigator.geolocation.getCurrentPosition(function(e){t.getAddressFromCoords(e.coords.longitude,e.coords.latitude).then(function(e){t.setsmart(t,"addresses.0.address",e),t.interactionStarted=!0}).catch(function(t){console.error(t)})})},methods:{cacheCurrentAddresses:function(){this.$store.commit("addCachedState",this.addresses)},addAddress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.address,o=void 0===e?{names:["address"],address:void 0,goods:{},uid:this.$uuid.v4()}:e;t.actionSource;o&&(this.pushThing({option:o,list:this.gosmart(this,"addresses",[]),obj:!0,keys:["uuid"]}),this.cacheCurrentAddresses(),this.interactionStarted||(this.interactionStarted=!0))},removeAddress:function(t,e,o){var i=this;t&&(e||0==e)&&(void 0!==t.address?t.address=void 0:this.addresses.length<=1&&0==this.getsmart(t,"goods.pickup.length",0)&&0==this.getsmart(t,"goods.dropoff.length",0)&&void 0==t.address?this.$q.dialog({title:"Message",message:"Sorry but you can't remove the last empty address",ok:"got it"}):this.$q.dialog({title:"Warning",message:"This will remove the whole stop including all pickups and dropoffs",ok:"got it",cancel:"no no no no"}).then(function(){i.addresses.splice(e,1),i.$q.notify({message:"easy",color:"positive",timeout:1e3})}).catch(function(){}),this.interactionStarted=!0,this.cacheCurrentAddresses())},addGood:function(t,e,o){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.funCounter;if(!t){this.funCounter++;var s={name:t,address:e,addressType:o,funCounter:n};this.$socket.emit("getUniqueName",s),this.$options.sockets["giveUniqueName"]=function(t){if(t.funCounter==n){var o={names:["good"],name:t.name,uuid:t.uuid};i.setsmart(o,t.addressType,e),console.log("adding good"),console.log("data"),console.log(t),console.log("address"),console.log(e),i.setThing({option:o,list:i.gosmart(e,"goods."+t.addressType,[]),obj:"debug",keys:["uuid"],push:!0}),i.cacheCurrentAddresses()}}}},removeGood:function(t,e,o){t&&e&&o&&(console.log("removing"),this.popThing({option:t,list:this.gosmart(e,"goods."+o,[]),keys:["uuid","_id"],keymatchtype:"broad"}),this.cacheCurrentAddresses())},tryGeojson:function(t){if(this.getsmart(t,"coords",void 0)&&this.getsmart(t,"coords.latitude",void 0)&&this.getsmart(t,"coords.longitude",void 0)){var e={center:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],geometry:{coordinates:[this.getsmart(t,"coords.longitude",145.179286),this.getsmart(t,"coords.latitude",-37.983109)],type:"Point"}};return e}return t},getAddressFromCoords:function(t,e){var o=this;return new Promise(function(i,n){var s="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+","+e+".json?access_token="+o.mapboxglAccessToken+"&types=address";o.$http.get(s).then(function(t){i(t.body.features[0].place_name)}).catch(function(t){console.error(t),n(t)})})},autoCompleteAddress:function(t){var e=this;return new Promise(function(o,i){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+".json?access_token="+e.mapboxglAccessToken+"&types=address";e.$http.get(n).then(function(t){o(t.body.features)}).catch(function(t){console.error(t),i(t)})})},searchAddress:function(t,e){this.autoCompleteAddress(t).then(function(t){for(var o=[],i=0;i<t.length;i++)o.push({label:t[i].place_name});e(o)}).catch(function(t){console.error(t)})},selectAddress:function(t,e,o,i){t&&(e||0==e)&&o&&(this.setsmart(this,o+"."+e+".address",t.label),this.interactionStarted=!0)}},computed:{interactionStarted:{get:function(){return this.$store.state.app.interactionStarted},set:function(t){this.$store.commit("interactionStarted",t)}}},props:{siteTitle:{}},components:{},watch:{addresses:function(){0==this.addresses.length&&this.addAddress(),this.cacheCurrentAddresses()}},route:{canActivate:function(){return!0}}},c=a,u=(o("7c72"),o("2ae2"),o("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);d.options.__file="planetExpress.vue";e["default"]=d.exports},cf25:function(t,e,o){"use strict";var i=o("2b3b"),n=o.n(i);n.a},d7bf:function(t,e,o){"use strict";var i=o("db42"),n=o.n(i);n.a},db42:function(t,e,o){},e048:function(t,e){},e718:function(t,e,o){},ff7c:function(t,e,o){"use strict";var i=o("3df4"),n=o.n(i);n.a}},[[0,"runtime","vendor"]]]);